---
interface Props {
  title: string;
  description: string;
  pubDate: Date;
  href: string;
  category: string;
}

const { title, description, pubDate, href, category } = Astro.props;

const formatDate = (date: Date) => {
  return new Intl.DateTimeFormat('zh-CN', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  }).format(date);
};

const getCategoryColor = (cat: string) => {
  const colors = {
    theory: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200',
    models: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200',
    practice: 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200',
    tools: 'bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200',
    insights: 'bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200'
  };
  return colors[cat as keyof typeof colors] || 'bg-gray-100 text-gray-800';
};
---

<a
  href={href}
  class="block p-6 rounded-lg border border-primary-200 dark:border-primary-700 hover:border-accent-300 dark:hover:border-accent-600 transition-all duration-300 hover:shadow-lg group"
>
  <div class="flex justify-between items-start mb-3">
    <span class={`px-3 py-1 rounded-full text-sm font-medium ${getCategoryColor(category)}`}>
      {category}
    </span>
    <time class="text-sm text-primary-500 dark:text-primary-400">
      {formatDate(pubDate)}
    </time>
  </div>

  <h3 class="text-xl font-semibold text-primary-900 dark:text-primary-50 group-hover:text-accent-600 dark:group-hover:text-accent-400 transition-colors mb-3">
    {title}
  </h3>

  <p class="text-primary-600 dark:text-primary-400 leading-relaxed">
    {description}
  </p>
</a>