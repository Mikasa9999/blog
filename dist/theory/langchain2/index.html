<!DOCTYPE html><html lang="zh-CN" class="scroll-smooth" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="description" content="ç³»ç»Ÿè®²è§£ LangChain ä¸­ Agent çš„æ ¸å¿ƒç»“æ„ã€å·¥å…·è°ƒç”¨æœºåˆ¶ä¸ LLM äº¤äº’æµç¨‹ï¼Œå¸®åŠ©ç†è§£å…¶åœ¨æ™ºèƒ½ä½“æ¡†æ¶ä¸­çš„ä½œç”¨ã€‚"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" crossorigin="anonymous"><title>LangChain Agent åŸç†ä¸å·¥ä½œæœºåˆ¶ | lightçš„çŸ¥è¯†åšå®¢</title><link rel="stylesheet" href="/_astro/_slug_.Dypz7GXS.css"><script type="module" src="/_astro/hoisted.n3v2uKZh.js"></script></head> <body class="bg-gradient-to-br from-primary-50 via-white to-accent-50/30 dark:from-primary-950 dark:via-primary-900 dark:to-accent-900/20 text-primary-900 dark:text-primary-50 transition-colors duration-300 relative" data-astro-cid-sckkx6r4> <!-- èƒŒæ™¯å›¾ç‰‡å±‚ -->  <!-- èƒŒæ™¯è£…é¥°å…ƒç´  --> <div class="fixed inset-0 -z-10 overflow-hidden" data-astro-cid-sckkx6r4> <!-- ç½‘æ ¼èƒŒæ™¯ --> <div class="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:64px_64px] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_50%,black,transparent)] dark:bg-[linear-gradient(rgba(255,255,255,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.05)_1px,transparent_1px)]" data-astro-cid-sckkx6r4></div> <!-- æ¸å˜å…‰æ–‘ --> <div class="absolute -top-40 -right-40 w-80 h-80 bg-accent-400/20 rounded-full blur-3xl dark:bg-accent-600/10" data-astro-cid-sckkx6r4></div> <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/20 rounded-full blur-3xl dark:bg-blue-600/10" data-astro-cid-sckkx6r4></div> <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-purple-400/10 rounded-full blur-3xl dark:bg-purple-600/5" data-astro-cid-sckkx6r4></div> </div> <header class="border-b border-primary-200 dark:border-primary-700 bg-white dark:bg-primary-900 sticky top-0 z-40" data-astro-cid-sckkx6r4> <nav class="container mx-auto px-4 py-3" data-astro-cid-sckkx6r4> <div class="flex justify-between items-center" data-astro-cid-sckkx6r4> <a href="/" class="text-lg font-semibold text-primary-900 dark:text-primary-50 hover:text-primary-700 dark:hover:text-primary-300 transition-colors duration-200 flex items-center space-x-2" data-astro-cid-sckkx6r4> <div class="w-5 h-5 bg-primary-600 dark:bg-primary-400 rounded flex items-center justify-center text-white text-xs font-medium" data-astro-cid-sckkx6r4>
çŸ¥
</div> <span data-astro-cid-sckkx6r4>lightçš„çŸ¥è¯†åšå®¢</span> </a> <div class="flex items-center space-x-4" data-astro-cid-sckkx6r4> <a href="/" class="text-sm text-primary-600 dark:text-primary-400 hover:text-primary-900 dark:hover:text-primary-50 transition-colors duration-200 py-1 px-2 rounded-md hover:bg-primary-100 dark:hover:bg-primary-800" data-astro-cid-sckkx6r4>
é¦–é¡µ
</a> <!-- åˆ†ç±»ä¸‹æ‹‰èœå• --> <div class="relative group" data-astro-cid-sckkx6r4> <button class="flex items-center text-sm text-primary-600 dark:text-primary-400 hover:text-primary-900 dark:hover:text-primary-50 transition-colors duration-200 py-1 px-2 rounded-md hover:bg-primary-100 dark:hover:bg-primary-800" data-astro-cid-sckkx6r4>
åˆ†ç±»
<svg class="w-3 h-3 ml-1 group-hover:rotate-180 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-sckkx6r4> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" data-astro-cid-sckkx6r4></path> </svg> </button> <div class="absolute top-full left-0 mt-1 w-48 bg-white dark:bg-primary-800 border border-primary-200 dark:border-primary-700 rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50" data-astro-cid-sckkx6r4> <div class="py-1" data-astro-cid-sckkx6r4> <a href="/theory" class="block px-3 py-2 text-sm text-primary-600 dark:text-primary-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-150" data-astro-cid-sckkx6r4>
ç†è®ºåŸºç¡€
</a> <a href="/models" class="block px-3 py-2 text-sm text-primary-600 dark:text-primary-400 hover:bg-green-50 dark:hover:bg-green-900/20 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-150" data-astro-cid-sckkx6r4>
ç®—æ³•ä¸æ¨¡å‹
</a> <a href="/practice" class="block px-3 py-2 text-sm text-primary-600 dark:text-primary-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 hover:text-purple-600 dark:hover:text-purple-400 transition-colors duration-150" data-astro-cid-sckkx6r4>
å®æˆ˜ä¸åº”ç”¨
</a> <a href="/tools" class="block px-3 py-2 text-sm text-primary-600 dark:text-primary-400 hover:bg-orange-50 dark:hover:bg-orange-900/20 hover:text-orange-600 dark:hover:text-orange-400 transition-colors duration-150" data-astro-cid-sckkx6r4>
å·¥å…·ä¸æ¡†æ¶
</a> <a href="/insights" class="block px-3 py-2 text-sm text-primary-600 dark:text-primary-400 hover:bg-pink-50 dark:hover:bg-pink-900/20 hover:text-pink-600 dark:hover:text-pink-400 transition-colors duration-150" data-astro-cid-sckkx6r4>
æ€è€ƒä¸æ´è§
</a> </div> </div> </div> <a href="/search" class="text-sm text-primary-600 dark:text-primary-400 hover:text-primary-900 dark:hover:text-primary-50 transition-colors duration-200 py-1 px-2 rounded-md hover:bg-primary-100 dark:hover:bg-primary-800" data-astro-cid-sckkx6r4>
æœç´¢
</a> <a href="/about" class="text-sm text-primary-600 dark:text-primary-400 hover:text-primary-900 dark:hover:text-primary-50 transition-colors duration-200 py-1 px-2 rounded-md hover:bg-primary-100 dark:hover:bg-primary-800" data-astro-cid-sckkx6r4>
å…³äº
</a> <button id="theme-toggle" class="p-1 rounded-md hover:bg-primary-100 dark:hover:bg-primary-800 transition-colors duration-200" data-astro-cid-sckkx6r4> <span class="dark:hidden text-sm" data-astro-cid-sckkx6r4>ğŸŒ™</span> <span class="hidden dark:inline text-sm" data-astro-cid-sckkx6r4>â˜€ï¸</span> </button> </div> </div> </nav> </header> <main data-astro-cid-sckkx6r4>  <div class="max-w-4xl mx-auto px-6 py-8"> <article class="bg-white dark:bg-primary-800 border border-primary-200 dark:border-primary-700 rounded-lg p-8"> <header class="mb-8"> <div class="flex items-center space-x-4 mb-4"> <span class="px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"> theory </span> <time class="text-primary-600 dark:text-primary-400 text-sm"> 2024å¹´10æœˆ3æ—¥ </time> </div> <h1 class="text-3xl font-bold text-primary-900 dark:text-primary-50 mb-4"> LangChain Agent åŸç†ä¸å·¥ä½œæœºåˆ¶ </h1> <p class="text-lg text-primary-600 dark:text-primary-400 leading-relaxed"> ç³»ç»Ÿè®²è§£ LangChain ä¸­ Agent çš„æ ¸å¿ƒç»“æ„ã€å·¥å…·è°ƒç”¨æœºåˆ¶ä¸ LLM äº¤äº’æµç¨‹ï¼Œå¸®åŠ©ç†è§£å…¶åœ¨æ™ºèƒ½ä½“æ¡†æ¶ä¸­çš„ä½œç”¨ã€‚ </p> <div class="flex flex-wrap gap-2 mt-6"> <span class="px-3 py-1 bg-primary-100 dark:bg-primary-800 text-primary-700 dark:text-primary-300 rounded-full text-sm">
#langchain </span><span class="px-3 py-1 bg-primary-100 dark:bg-primary-800 text-primary-700 dark:text-primary-300 rounded-full text-sm">
#agent </span><span class="px-3 py-1 bg-primary-100 dark:bg-primary-800 text-primary-700 dark:text-primary-300 rounded-full text-sm">
#llm </span><span class="px-3 py-1 bg-primary-100 dark:bg-primary-800 text-primary-700 dark:text-primary-300 rounded-full text-sm">
#tool-calling </span><span class="px-3 py-1 bg-primary-100 dark:bg-primary-800 text-primary-700 dark:text-primary-300 rounded-full text-sm">
#prompt-engineering </span> </div> </header> <!-- æ–‡ç« å†…å®¹ --> <div class="border-t border-primary-200 dark:border-primary-700 pt-8"> <div class="prose prose-lg dark:prose-invert max-w-none"> <h2 id="æ¥çœ‹ä¸€ä¸ªç¨å¾®å¤æ‚çš„ä¾‹å­">æ¥çœ‹ä¸€ä¸ªç¨å¾®å¤æ‚çš„ä¾‹å­</h2>
<p>è¿™ä¸ªä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬ç»™å‡ºä¸€ä¸ªæ ¼å¼åŒ–çš„æ–‡æœ¬æ–‡ä»¶ <code>input.csv</code>ï¼Œç„¶åæå‡ºä¿®æ”¹è¦æ±‚ï¼Œè®© agent è°ƒç”¨ LLM ç”Ÿæˆä»£ç å¹¶è‡ªåŠ¨æ‰§è¡Œï¼Œå°†ç»“æœä¿å­˜åˆ°ä¸€ä¸ªæ–°çš„æ–‡ä»¶ä¸­ï¼Œç„¶åå†éªŒè¯ä¿®æ”¹ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</p>
<hr>
<h3 id="-å·¥å…·å®šä¹‰">ğŸ§© å·¥å…·å®šä¹‰</h3>
<p>ä»¥ä¸‹å®šä¹‰äº†å››ä¸ªæ ¸å¿ƒå·¥å…·ï¼Œåˆ†åˆ«ç”¨äº<strong>æ–‡ä»¶é¢„è§ˆã€ä»£ç ç”Ÿæˆã€ä»£ç æ‰§è¡Œä¸ç»“æœéªŒè¯</strong>ã€‚</p>
<ol>
<li>
<p><strong>æ–‡ä»¶é¢„è§ˆå·¥å…·</strong></p>
<ul>
<li>ç”¨äºæŸ¥çœ‹ç»“æ„åŒ–æ–‡ä»¶çš„éƒ¨åˆ†å†…å®¹ï¼Œè®©å¤§æ¨¡å‹ç†è§£è¾“å…¥æ–‡ä»¶çš„ç»“æ„ã€‚
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>def preview_file(path: str) -> str:</span></span>
<span class="line"><span>    """è¯»å–æŒ‡å®šæ–‡ä»¶å‰ 10 è¡Œ"""</span></span>
<span class="line"><span>    try:</span></span>
<span class="line"><span>        with open(path, "r", encoding="utf-8", errors="ignore") as f:</span></span>
<span class="line"><span>            preview = [next(f).strip() for _ in range(10)]</span></span>
<span class="line"><span>        return "\n".join(preview)</span></span>
<span class="line"><span>    except Exception as e:</span></span>
<span class="line"><span>        return f"[é”™è¯¯] æ— æ³•è¯»å–æ–‡ä»¶: {e}"</span></span>
<span class="line"><span></span></span>
<span class="line"><span>file_preview_tool = Tool(</span></span>
<span class="line"><span>    name="FilePreviewTool",</span></span>
<span class="line"><span>    func=preview_file,</span></span>
<span class="line"><span>    description="è¯»å–æ–‡ä»¶å‰ 10 è¡Œï¼Œè¾“å…¥å‚æ•°ä¸ºæ–‡ä»¶è·¯å¾„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ 'data.csv'"</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span></span></span></code></pre>
</li>
</ul>
</li>
<li>
<p><strong>ä»£ç ç”Ÿæˆå·¥å…·</strong></p>
<ul>
<li>LLM æ ¹æ®è‡ªç„¶è¯­è¨€æŒ‡ä»¤ç”Ÿæˆå®Œæ•´çš„ Python æ•°æ®å¤„ç†ä»£ç ã€‚
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>def generate_code(instruction: str) -> str:</span></span>
<span class="line"><span>    """æ ¹æ®æŒ‡ä»¤ç”Ÿæˆ Python ä»£ç å¹¶ä¿å­˜åˆ°å½“å‰ç›®å½•"""</span></span>
<span class="line"><span>    prompt = f"""</span></span>
<span class="line"><span>    ä½ æ˜¯ä¸€ä¸ª Python æ•°æ®åˆ†æä¸“å®¶ã€‚</span></span>
<span class="line"><span>    è¯·æ ¹æ®ä»¥ä¸‹ç”¨æˆ·æŒ‡ä»¤ç”Ÿæˆå®Œæ•´çš„ pandas ä»£ç ï¼š</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    ç”¨æˆ·è¦æ±‚ï¼š</span></span>
<span class="line"><span>    {instruction}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    è¦æ±‚ï¼š</span></span>
<span class="line"><span>    - è¾“å…¥æ–‡ä»¶åä¸º 'input.csv'</span></span>
<span class="line"><span>    - è¾“å‡ºæ–‡ä»¶åä¸º 'output.csv'</span></span>
<span class="line"><span>    - ä»£ç å¿…é¡»èƒ½ç›´æ¥è¿è¡Œ</span></span>
<span class="line"><span>    - åªè¾“å‡ºçº¯ä»£ç ï¼Œä¸è¦ä»»ä½• Markdown æ ¼å¼</span></span>
<span class="line"><span>    """</span></span>
<span class="line"><span>    code = llm.invoke(prompt).content.strip()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    # æ¸…ç† Markdown æ ‡è®°ä¸å¥‡æ€ªå¼•å·</span></span>
<span class="line"><span>    code = code.replace("```python", "").replace("```", "").strip()</span></span>
<span class="line"><span>    save_path = "generated_code.py"</span></span>
<span class="line"><span>    with open(save_path, "w", encoding="utf-8") as f:</span></span>
<span class="line"><span>        f.write(code)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    return f"[ä»£ç å·²ä¿å­˜] {os.path.abspath(save_path)}\n---\n{code}"</span></span>
<span class="line"><span></span></span>
<span class="line"><span>code_generator_tool = Tool(</span></span>
<span class="line"><span>    name="CodeGeneratorTool",</span></span>
<span class="line"><span>    func=generate_code,</span></span>
<span class="line"><span>    description="æ ¹æ®è‡ªç„¶è¯­è¨€ç”Ÿæˆæ•°æ®å¤„ç† Python ä»£ç ï¼Œè¾“å…¥ä¸ºæ“ä½œæè¿°å­—ç¬¦ä¸²ã€‚"</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span></span></span></code></pre>
</li>
</ul>
</li>
<li>
<p><strong>æ‰§è¡Œä»£ç å·¥å…·</strong></p>
<ul>
<li>è´Ÿè´£æ‰§è¡Œç”±ä¸Šä¸€æ­¥ç”Ÿæˆçš„ Python è„šæœ¬ã€‚
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>def execute_generated_code(_: str) -> str:</span></span>
<span class="line"><span>    """æ‰§è¡Œå½“å‰ç›®å½•ä¸‹çš„ generated_code.py æ–‡ä»¶"""</span></span>
<span class="line"><span>    file_path = "generated_code.py"</span></span>
<span class="line"><span>    if not os.path.exists(file_path):</span></span>
<span class="line"><span>        return "[é”™è¯¯] æœªæ‰¾åˆ°ç”Ÿæˆçš„ä»£ç æ–‡ä»¶ã€‚"</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    output = io.StringIO()</span></span>
<span class="line"><span>    try:</span></span>
<span class="line"><span>        with contextlib.redirect_stdout(output):</span></span>
<span class="line"><span>            with open(file_path, "r", encoding="utf-8") as f:</span></span>
<span class="line"><span>                code = f.read()</span></span>
<span class="line"><span>            exec(code, {"__name__": "__main__"})</span></span>
<span class="line"><span>        return "[æ‰§è¡ŒæˆåŠŸ]\n" + output.getvalue()</span></span>
<span class="line"><span>    except Exception as e:</span></span>
<span class="line"><span>        return f"[æ‰§è¡Œé”™è¯¯] {e}"</span></span>
<span class="line"><span></span></span>
<span class="line"><span>python_executor_tool = Tool(</span></span>
<span class="line"><span>    name="PythonExecutorTool",</span></span>
<span class="line"><span>    func=execute_generated_code,</span></span>
<span class="line"><span>    description="æ‰§è¡Œå½“å‰ç›®å½•ä¸‹çš„ generated_code.pyï¼Œä¸éœ€è¦è¾“å…¥å‚æ•°ã€‚"</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span></span></span></code></pre>
</li>
</ul>
</li>
<li>
<p><strong>éªŒè¯å·¥å…·</strong></p>
<ul>
<li>æ ¹æ®ä»»åŠ¡æŒ‡ä»¤è‡ªåŠ¨ç”ŸæˆéªŒè¯é€»è¾‘ï¼Œæ£€æŸ¥è¾“å‡ºç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸã€‚
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>def verify_task(instruction: str) -> str:</span></span>
<span class="line"><span>    """</span></span>
<span class="line"><span>    æ ¹æ®ç”¨æˆ·è¦æ±‚ç”Ÿæˆå¹¶æ‰§è¡ŒéªŒè¯ä»£ç ï¼Œç”¨äºæ£€æŸ¥ output.csv æ˜¯å¦æ»¡è¶³ä»»åŠ¡ç›®æ ‡ã€‚</span></span>
<span class="line"><span>    å…è®¸ AI è‡ªè¡Œç”ŸæˆéªŒè¯é€»è¾‘ã€‚</span></span>
<span class="line"><span>    """</span></span>
<span class="line"><span>    prompt = f"""</span></span>
<span class="line"><span>    ä½ æ˜¯ä¸€åæ•°æ®è´¨é‡æ£€æŸ¥ä¸“å®¶ã€‚</span></span>
<span class="line"><span>    è¯·æ ¹æ®ä»¥ä¸‹ä»»åŠ¡æŒ‡ä»¤ï¼Œç¼–å†™ä¸€æ®µ Python ä»£ç ï¼Œç”¨äºéªŒè¯ä»»åŠ¡æ˜¯å¦æ­£ç¡®å®Œæˆã€‚</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    ä»»åŠ¡æŒ‡ä»¤ï¼š</span></span>
<span class="line"><span>    {instruction}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    è¾“å…¥æ–‡ä»¶ï¼š'output.csv'</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    è¦æ±‚ï¼š</span></span>
<span class="line"><span>    - ä»£ç ä¸­è¯»å– output.csv</span></span>
<span class="line"><span>    - è¾“å‡ºæ¸…æ™°çš„éªŒè¯ç»“æœï¼ˆä¾‹å¦‚â€œæ‰€æœ‰åˆ—å‡æ— ç©ºå€¼â€æˆ–â€œä»å­˜åœ¨ç©ºå€¼åˆ—â€ï¼‰</span></span>
<span class="line"><span>    - ä½¿ç”¨ print() æ‰“å°éªŒè¯ç»“æœ</span></span>
<span class="line"><span>    - ä»£ç å¿…é¡»èƒ½ç›´æ¥è¿è¡Œ</span></span>
<span class="line"><span>    - åªè¾“å‡ºçº¯ä»£ç ï¼Œä¸è¦ä»»ä½• Markdown æ ¼å¼</span></span>
<span class="line"><span>    """</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    code = llm.invoke(prompt).content.strip()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    # ä¿å­˜éªŒè¯ä»£ç </span></span>
<span class="line"><span>    verify_path = "verify_code.py"</span></span>
<span class="line"><span>    with open(verify_path, "w", encoding="utf-8") as f:</span></span>
<span class="line"><span>        f.write(code)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    # æ‰§è¡ŒéªŒè¯ä»£ç </span></span>
<span class="line"><span>    output = io.StringIO()</span></span>
<span class="line"><span>    try:</span></span>
<span class="line"><span>        with contextlib.redirect_stdout(output):</span></span>
<span class="line"><span>            exec(code, {"__name__": "__main__"})</span></span>
<span class="line"><span>        result = output.getvalue().strip()</span></span>
<span class="line"><span>        return f"[éªŒè¯ä»£ç å·²ä¿å­˜] {os.path.abspath(verify_path)}\n---\n{code}\n\n[éªŒè¯ç»“æœ]\n{result}"</span></span>
<span class="line"><span>    except Exception as e:</span></span>
<span class="line"><span>        return f"[æ‰§è¡Œé”™è¯¯] {e}\n---\nä»£ç å†…å®¹:\n{code}"</span></span>
<span class="line"><span></span></span>
<span class="line"><span>verifier_tool = Tool(</span></span>
<span class="line"><span>    name="VerifierTool",</span></span>
<span class="line"><span>    func=verify_task,</span></span>
<span class="line"><span>    description="æ ¹æ®ä»»åŠ¡æŒ‡ä»¤è‡ªåŠ¨ç”Ÿæˆå¹¶æ‰§è¡ŒéªŒè¯ä»£ç ï¼Œè¾“å…¥ä¸ºä»»åŠ¡è¯´æ˜å­—ç¬¦ä¸²ã€‚"</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span></span></span></code></pre>
</li>
</ul>
</li>
</ol>
<hr>
<hr>
<h3 id="ï¸æµ‹è¯•ä¸€ä¸‹">âš™ï¸æµ‹è¯•ä¸€ä¸‹</h3>
<ol>
<li><strong>å‡†å¤‡æµ‹è¯•æ–‡ä»¶</strong>
<ul>
<li>ä¸€ä¸ª20è¡Œçš„.csvæ–‡ä»¶
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>name,age,city,income</span></span>
<span class="line"><span>Alice,25,New York,55000</span></span>
<span class="line"><span>Bob,,Los Angeles,48000</span></span>
<span class="line"><span>Charlie,30,Chicago,</span></span>
<span class="line"><span>David,28,,62000</span></span>
<span class="line"><span>Eve,25,New York,55000</span></span>
<span class="line"><span>Frank,35,Chicago,70000</span></span>
<span class="line"><span>Grace,29,Los Angeles,52000</span></span>
<span class="line"><span>Heidi,26,New York,</span></span>
<span class="line"><span>Ivan,31,Chicago,60000</span></span>
<span class="line"><span>Judy,,Los Angeles,58000</span></span>
<span class="line"><span>Alice,25,New York,55000</span></span>
<span class="line"><span>Bob,,Los Angeles,48000</span></span>
<span class="line"><span>Charlie,30,Chicago,</span></span>
<span class="line"><span>David,28,,62000</span></span>
<span class="line"><span>Eve,25,New Yo0rk,55000</span></span>
<span class="line"><span>Frank,35,Chicago,70000</span></span>
<span class="line"><span>Grace,29,Los Angeles,52000</span></span>
<span class="line"><span>Heidi,26,New York,</span></span>
<span class="line"><span>Ivan,31,Chicago,60000</span></span>
<span class="line"><span>Judy,,Los Angeles,5800</span></span>
<span class="line"><span></span></span></code></pre>
</li>
</ul>
</li>
<li><strong>è¾“å…¥å‘½ä»¤</strong>
<ul>
<li>è¾“å…¥æˆ‘ä»¬æƒ³è¦çš„ä¿®æ”¹
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>if __name__ == "__main__":</span></span>
<span class="line"><span> file_path = "input.csv"</span></span>
<span class="line"><span> instruction = "åˆ é™¤æ•°æ®è¡Œæœ€åä¸¤è¡Œï¼Œå¹¶ä¿å­˜ä¸º output.csv"</span></span>
<span class="line"><span></span></span>
<span class="line"><span> query = (</span></span>
<span class="line"><span>     f"è¯·ç”¨ FilePreviewTool è¯»å– {file_path} æ–‡ä»¶å‰ 10 è¡Œï¼Œ"</span></span>
<span class="line"><span>     f"ç„¶åæ ¹æ®ä»¥ä¸‹æŒ‡ä»¤ï¼š{instruction}ï¼Œ"</span></span>
<span class="line"><span>     f"ä½¿ç”¨ CodeGeneratorTool ç”Ÿæˆå¹¶ä¿å­˜å¤„ç†ä»£ç ï¼Œ"</span></span>
<span class="line"><span>     f"ç”¨ PythonExecutorTool æ‰§è¡Œä¿å­˜çš„ä»£ç ï¼Œ"</span></span>
<span class="line"><span>     f"æœ€åç”¨VerifierToolè‡ªåŠ¨ç”Ÿæˆä»£ç æ‰§è¡ŒéªŒè¯æ˜¯å¦æˆåŠŸå®Œæˆä»»åŠ¡ ã€‚"</span></span>
<span class="line"><span> )</span></span>
<span class="line"><span></span></span>
<span class="line"><span> print(f"â¡ï¸ å½“å‰ä»»åŠ¡: {query}\n")</span></span>
<span class="line"><span></span></span>
<span class="line"><span> result = agent.invoke({"input": query})</span></span>
<span class="line"><span></span></span>
<span class="line"><span> print("\n=== âœ… æœ€ç»ˆç»“æœ ===")</span></span>
<span class="line"><span> print(result["output"])</span></span>
<span class="line"><span></span></span></code></pre>
æŸ¥çœ‹æ‰§è¡Œè¿‡ç¨‹
<img  src="/_astro/image.CVKJrR38_ZYtfoQ.webp" alt="alt text" width="2175" height="904" loading="lazy" decoding="async">
ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œagentå…ˆè°ƒç”¨é¢„è§ˆå‡½æ•°äº†è§£åˆ°äº†æ–‡ä»¶ç»“æ„ï¼Œå†è°ƒç”¨ä»£ç ç”Ÿæˆå·¥å…·ç”Ÿæˆä»£ç ï¼Œå¹¶è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ°ä»£ç æ‰§è¡ŒæˆåŠŸ
<img  src="/_astro/image-1.2gb3d_45_Z1ux1K8.webp" alt="alt text" width="1715" height="893" loading="lazy" decoding="async">
ç„¶åæ‰§è¡ŒæˆåŠŸåè°ƒç”¨éªŒè¯å·¥å…·ï¼Œè¯¥å·¥å…·ä¼šè‡ªåŠ¨ç”Ÿæˆä»£ç éªŒè¯ï¼Œå¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„ä»£ç å¯¹æ¯”äº†æ–‡ä»¶å‰åï¼Œå‘ç°è¡Œæ•°å‡å°‘ï¼Œè®¤ä¸ºç¡®å®æˆåŠŸæ‰§è¡Œäº†ï¼Œå¹¶è¿”å›ç»“æœ
<img  src="/_astro/image-2.Cs3w5Aom_Z1OO9I9.webp" alt="alt text" width="2176" height="270" loading="lazy" decoding="async">
æœ€ållmåˆ¤æ–­ä»»åŠ¡å®Œæˆï¼Œè¾“å‡ºfinnal answerï¼Œé€šè¿‡è§‚å¯Ÿå¯å¾—ï¼Œæ¯ä¸ªæ—¶é—´æ­¥llmå‘agentè¿”å›thoughtã€actionã€action inputï¼Œç„¶åagentæ ¹æ®æ‰§è¡Œå¯¹åº”actionå¹¶å°†ä¹‹å‰çš„å†…å®¹åŠ ä¸Šå½“å‰æ­¥éª¤çš„observationè¿”å›ç»™llmï¼Œllmæ ¹æ®å½“å‰çš„çŠ¶æ€åˆ¤æ–­ä»»åŠ¡æ˜¯å¦ç»ˆæ­¢æˆ–æ˜¯é€‰æ‹©ä¸‹ä¸€ä¸ªæ“ä½œã€‚æ•´ä¸ªè¿‡ç¨‹å¯¹äºå•æ¬¡æ¥è¯´å…¶å®æ˜¯ç‹¬ç«‹çš„ï¼Œagentæ¯æ¬¡æŸ¥è¯¢éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œåªæ˜¯ä¼šæŠŠå½“å‰ä»»åŠ¡çš„å†å²ä¿¡æ¯æ¯æ¬¡éƒ½æ‹¼æ¥èµ·æ¥å‘é€ç»™llmï¼Œllmè‡ªèº«ä¸ç»´æŠ¤çŠ¶æ€ï¼ŒçŠ¶æ€è¦é agentå‘é€è¿‡æ¥ã€‚ä¸Šä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬é€šè¿‡æŸ¥çœ‹æ¯æ¬¡agentå‘é€çš„promptå¯ä»¥å¾—åˆ°è¿™ä¸ªç»“è®º</li>
</ul>
</li>
</ol>
<h3 id="-å°ç»“">ğŸ“˜ å°ç»“</h3>
<p>è¯¥ç¤ºä¾‹å±•ç¤ºäº† LangChain Agent å¦‚ä½•é€šè¿‡ä¸€ç»„å·¥å…·ååŒå·¥ä½œï¼Œä½¿ LLM èƒ½å¤Ÿå®ç°ï¼š</p>
<ol>
<li><strong>æ–‡ä»¶å†…å®¹ç†è§£</strong>ï¼ˆé¢„è§ˆå·¥å…·ï¼‰</li>
<li><strong>åŠ¨æ€ç”Ÿæˆå¯æ‰§è¡Œä»£ç </strong>ï¼ˆä»£ç ç”Ÿæˆå·¥å…·ï¼‰</li>
<li><strong>è‡ªåŠ¨æ‰§è¡Œä»»åŠ¡é€»è¾‘</strong>ï¼ˆæ‰§è¡Œå·¥å…·ï¼‰</li>
<li><strong>ç»“æœè‡ªæ£€ä¸éªŒè¯</strong>ï¼ˆéªŒè¯å·¥å…·ï¼‰</li>
</ol>
<p>æ•´ä¸ªè¿‡ç¨‹å±•ç¤ºäº† <strong>LLM + å·¥å…·è°ƒç”¨æœºåˆ¶ï¼ˆTool Callingï¼‰</strong> çš„å¼ºå¤§ç»„åˆï¼Œä¸ºæ„å»ºæ™ºèƒ½ä½“å¥ å®šäº†åŸºç¡€ã€‚</p> </div> </div> <!-- æ–‡ç« åº•éƒ¨ --> <footer class="border-t border-primary-200 dark:border-primary-700 mt-8 pt-8"> <div class="flex justify-between items-center text-sm text-primary-500 dark:text-primary-400"> <span>å‘å¸ƒäº 2024/10/3</span>  </div> </footer> </article> </div>  </main> <footer class="border-t border-primary-200 dark:border-primary-700 mt-16" data-astro-cid-sckkx6r4> <div class="container mx-auto px-4 py-8 text-center text-primary-600 dark:text-primary-400" data-astro-cid-sckkx6r4> <p data-astro-cid-sckkx6r4>&copy; 2024 AI/ML çŸ¥è¯†åšå®¢. åŸºäº Astro æ„å»º.</p> </div> </footer>  </body> </html>