# 自定义背景图片设置指南

## 功能概述

您的AI/ML博客网站现在支持自定义背景图片功能。系统已经配置完成，支持按页面类型设置不同的背景图片，并自动适配深色/浅色模式。

## 背景图片配置

### 图片存储位置
所有背景图片应放置在：
```
public/backgrounds/
```

### 图片命名规范
系统按照以下命名约定加载背景图片：

| 页面类型 | 浅色模式图片 | 深色模式图片 |
|---------|-------------|-------------|
| 首页 | `home-light.jpg` | `home-dark.jpg` |
| 分类页 | `category-light.jpg` | `category-dark.jpg` |
| 文章页 | `article-light.jpg` | `article-dark.jpg` |
| 搜索页 | `search-light.jpg` | `search-dark.jpg` |
| 关于页 | `about-light.jpg` | `about-dark.jpg` |

### 图片规格建议
- **格式**：JPG（当前使用）、PNG、WebP
- **分辨率**：1920x1080 或更高
- **文件大小**：< 500KB
- **风格**：科技感、抽象、渐变等与网站主题协调的图片

## 功能特性

### 1. 按页面类型设置
- 首页使用 `home-*` 背景图片
- 分类页面使用 `category-*` 背景图片
- 文章详情页使用 `article-*` 背景图片
- 搜索页面使用 `search-*` 背景图片
- 关于页面使用 `about-*` 背景图片

### 2. 深色/浅色模式适配
- 自动根据当前主题模式显示对应的背景图片
- 平滑的过渡动画效果

### 3. 半透明叠加效果
- 背景图片与现有渐变背景叠加显示
- 使用 backdrop-filter 模糊效果增强可读性
- 浅色模式：白色半透明叠加层
- 深色模式：黑色半透明叠加层

### 4. 性能优化
- 使用 CSS background-image 而非 img 标签
- 响应式图片加载
- 渐进式加载效果

## 使用方法

### 1. 添加背景图片
1. 将您的背景图片按照命名规范放入 `public/backgrounds/` 目录
2. 确保为每个页面类型提供浅色和深色版本
3. 建议使用 WebP 格式以获得最佳性能

### 2. 测试效果
1. 启动开发服务器：`npm run dev`
2. 访问 http://localhost:4321/
3. 切换深色/浅色模式查看效果
4. 浏览不同页面类型验证背景图片

### 3. 自定义样式
如需调整背景图片的显示效果，可以修改以下文件：
- `src/layouts/Layout.astro` - 背景图片层结构
- `src/styles/global.css` - 背景图片相关样式

## 技术实现

### 核心文件
- `src/layouts/Layout.astro` - 主布局，包含背景图片逻辑
- `src/pages/*.astro` - 各页面组件，传递背景图片类型
- `src/styles/global.css` - 背景图片样式定义

### 实现原理
1. 每个页面组件通过 `backgroundType` prop 指定背景类型
2. Layout 组件根据背景类型和主题模式加载对应图片
3. 使用 CSS 变量和 Tailwind 类实现响应式显示
4. 通过 z-index 层级确保背景图片在装饰元素之下

## 故障排除

### 背景图片不显示
1. 检查图片文件是否存在于正确位置
2. 确认文件名符合命名规范
3. 验证图片格式是否被支持
4. 检查浏览器控制台是否有404错误

### 图片加载缓慢
1. 优化图片文件大小
2. 使用 WebP 格式
3. 考虑降低图片分辨率
4. 启用图片压缩

### 显示效果不佳
1. 调整叠加层的透明度
2. 修改 backdrop-filter 强度
3. 优化图片与文字的颜色对比度

## 下一步

1. 添加您的自定义背景图片到 `public/backgrounds/` 目录
2. 测试不同页面和主题模式下的显示效果
3. 根据实际效果调整图片或样式设置

如需进一步自定义，请参考相关代码文件中的注释说明。